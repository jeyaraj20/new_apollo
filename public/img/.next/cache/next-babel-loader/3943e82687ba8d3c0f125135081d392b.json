{"ast":null,"code":"var _jsxFileName = \"F:\\\\newapollo\\\\pages\\\\index.jsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { notification } from 'antd';\nimport jwtDecode from \"jwt-decode\";\nimport { loginSuccess } from '../store/auth/action';\nimport AuthRepository from '../repositories/AuthRepository';\n\nconst SignIn = props => {\n  const dispatch = useDispatch();\n  const {\n    auth,\n    token\n  } = useSelector(({\n    auth\n  }) => auth);\n  const {\n    0: user,\n    1: setUser\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: type,\n    1: setType\n  } = useState('');\n  const {\n    0: isShowPassword,\n    1: setShowPassword\n  } = useState(false);\n  const {\n    0: errors,\n    1: setErrors\n  } = useState({});\n\n  const typeOnChange = e => {\n    setType(e.target.value);\n\n    let errorObj = _objectSpread({}, errors);\n\n    errorObj['type'] = '';\n    setErrors(errorObj);\n  };\n\n  const userOnChange = user => {\n    setUser(user);\n\n    let errorObj = _objectSpread({}, errors);\n\n    errorObj['user'] = '';\n    setErrors(errorObj);\n  };\n\n  const passwordOnChange = password => {\n    setPassword(password);\n\n    let errorObj = _objectSpread({}, errors);\n\n    errorObj['password'] = '';\n    setErrors(errorObj);\n  };\n\n  const loginOnClick = async () => {\n    let errorObj = {};\n\n    if (user && password && type) {\n      let result = await AuthRepository.adminLogin({\n        user,\n        password,\n        type,\n        logintype: \"G\"\n      });\n\n      if (result && result.statusCode === 200) {\n        let user = jwtDecode(result.token);\n        await localStorage.setItem('usertoken', result.token);\n        dispatch(loginSuccess({\n          user: user.user,\n          token: result\n        }));\n        notification.success({\n          message: \"Welcome Back!\"\n        });\n        window.location.href = \"/home\";\n      } else if (result && result.statusCode === 404) {\n        notification.error({\n          message: result.message\n        });\n      } else {\n        notification.error({\n          message: 'Something Wrong'\n        });\n      }\n    } else {\n      if (!user) errorObj['user'] = 'Please Enter User';\n      if (!password) errorObj['password'] = 'Please Enter Password';\n      if (!type) errorObj['type'] = 'Please Select Type';\n      setErrors(errorObj);\n    }\n  };\n\n  useEffect(() => {\n    let local = JSON.parse(localStorage.getItem('persist:QuestionCloudAdmin'));\n    let localAuth = local && local.auth ? JSON.parse(local.auth) : {};\n\n    if (localAuth && localAuth.isLoggedIn) {\n      window.location.href = \"/home\";\n    }\n  }, [auth, token, dispatch]);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"top-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"loginscreen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-8\",\n    style: {\n      background: \"#fff\",\n      boxShadow: '0 1px 4px 0 rgb(0 0 0 / 25%)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-5\",\n    style: {\n      background: '#e7e7e7'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), __jsx(\"div\", {\n    className: \"col-md-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \" text-center my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, __jsx(\"img\", {\n    src: \"/img/logo.png\",\n    alt: \"newapollo\",\n    className: \"text-center\",\n    title: \"newapollo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  })), __jsx(\"div\", {\n    className: \"form-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"row mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"exampleRadios1\",\n    value: 'S',\n    onClick: e => typeOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 27\n    }\n  }), __jsx(\"label\", {\n    className: \"form-check-label\",\n    for: \"exampleRadios1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 27\n    }\n  }, \"Super Admin\"))), __jsx(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"exampleRadios1\",\n    value: 'A',\n    onClick: e => typeOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 27\n    }\n  }), __jsx(\"label\", {\n    className: \"form-check-label\",\n    for: \"exampleRadios1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 27\n    }\n  }, \"Admin\"))), __jsx(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 23\n    }\n  }, __jsx(\"div\", {\n    className: \"form-check\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    className: \"form-check-input\",\n    type: \"radio\",\n    name: \"exampleRadios1\",\n    value: 'F',\n    onClick: e => typeOnChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 27\n    }\n  }), __jsx(\"label\", {\n    className: \"form-check-label\",\n    for: \"exampleRadios1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 27\n    }\n  }, \"Faculty\"))), __jsx(\"div\", {\n    style: {\n      marginLeft: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }, __jsx(\"h6\", {\n    style: {\n      color: 'red',\n      paddingTop: '1%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 56\n    }\n  }, errors['type']))), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    onChange: event => userOnChange(event.target.value),\n    margin: \"normal\",\n    className: \"form-control\",\n    placeholder: \"User Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 23\n    }\n  }), __jsx(\"i\", {\n    className: \"fa fa-user icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 23\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  }, __jsx(\"h6\", {\n    style: {\n      color: 'red',\n      paddingTop: '1%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 28\n    }\n  }, errors['user']))), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, __jsx(\"input\", {\n    type: isShowPassword ? \"text\" : \"password\",\n    onChange: event => passwordOnChange(event.target.value),\n    margin: \"normal\",\n    className: \"form-control\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 23\n    }\n  }), isShowPassword ? __jsx(\"i\", {\n    className: \"fa fa-eye icon1\",\n    onClick: () => setShowPassword(false),\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }) : __jsx(\"i\", {\n    className: \"fa fa-eye-slash icon1\",\n    onClick: () => setShowPassword(true),\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  }, __jsx(\"h6\", {\n    style: {\n      color: 'red',\n      paddingTop: '1%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 28\n    }\n  }, errors['password']))), __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    variant: \"contained\",\n    className: \"btn-signin\",\n    onClick: loginOnClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, \"Sign In\")), __jsx(\"div\", {\n    className: \"col-md-6 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 23\n    }\n  }, __jsx(\"button\", {\n    variant: \"contained\",\n    className: \"btn-signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 25\n    }\n  }, \"School Login\")))))))))));\n};\n\nexport default SignIn;","map":{"version":3,"sources":["F:/newapollo/pages/index.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","notification","jwtDecode","loginSuccess","AuthRepository","SignIn","props","dispatch","auth","token","user","setUser","password","setPassword","type","setType","isShowPassword","setShowPassword","errors","setErrors","typeOnChange","e","target","value","errorObj","userOnChange","passwordOnChange","loginOnClick","result","adminLogin","logintype","statusCode","localStorage","setItem","success","message","window","location","href","error","local","JSON","parse","getItem","localAuth","isLoggedIn","background","boxShadow","marginLeft","color","paddingTop","event","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { notification } from 'antd';\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nimport { loginSuccess } from '../store/auth/action';\r\nimport AuthRepository from '../repositories/AuthRepository';\r\n\r\nconst SignIn = (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { auth, token } = useSelector(({ auth }) => auth);\r\n\r\n  const [user, setUser] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [type, setType] = useState('');\r\n  const [isShowPassword, setShowPassword] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const typeOnChange = (e) => {\r\n    setType(e.target.value);\r\n    let errorObj = { ...errors };\r\n    errorObj['type'] = '';\r\n    setErrors(errorObj);\r\n  };\r\n\r\n  const userOnChange = (user) => {\r\n    setUser(user);\r\n    let errorObj = { ...errors };\r\n    errorObj['user'] = '';\r\n    setErrors(errorObj);\r\n  }\r\n\r\n  const passwordOnChange = (password) => {\r\n    setPassword(password);\r\n    let errorObj = { ...errors };\r\n    errorObj['password'] = '';\r\n    setErrors(errorObj);\r\n  }\r\n\r\n  const loginOnClick = async () => {\r\n    let errorObj = {};\r\n    if (user && password && type) {\r\n      let result = await AuthRepository.adminLogin({ user, password, type, logintype: \"G\" });\r\n      if (result && result.statusCode === 200) {\r\n        let user = jwtDecode(result.token);\r\n        await localStorage.setItem('usertoken', result.token);\r\n        dispatch(loginSuccess({ user: user.user, token: result }));\r\n        notification.success({\r\n          message: \"Welcome Back!\"\r\n        });\r\n        window.location.href = \"/home\";\r\n      } else if (result && result.statusCode === 404) {\r\n        notification.error({\r\n          message: result.message\r\n        });\r\n      } else {\r\n        notification.error({\r\n          message: 'Something Wrong'\r\n        });\r\n      }\r\n    } else {\r\n      if (!user) errorObj['user'] = 'Please Enter User';\r\n      if (!password) errorObj['password'] = 'Please Enter Password';\r\n      if (!type) errorObj['type'] = 'Please Select Type';\r\n      setErrors(errorObj);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let local = JSON.parse(localStorage.getItem('persist:QuestionCloudAdmin'));\r\n    let localAuth = local && local.auth ? JSON.parse(local.auth) : {};\r\n    if (localAuth && localAuth.isLoggedIn) {\r\n      window.location.href = \"/home\";\r\n    }\r\n  }, [auth, token, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"top-container\">\r\n        <div className=\"loginscreen\">\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-8\" style={{ background: \"#fff\", boxShadow: '0 1px 4px 0 rgb(0 0 0 / 25%)' }}>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-5\" style={{ background: '#e7e7e7' }}>\r\n                </div>\r\n                <div className=\"col-md-7\">\r\n                  <div className=\" text-center my-4\">\r\n                    <img src={\"/img/logo.png\"} alt=\"newapollo\" className=\"text-center\" title=\"newapollo\" />\r\n                  </div>\r\n                  <div className='form-name'>\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-5\">\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            className=\"form-check-input\"\r\n                            type=\"radio\"\r\n                            name='exampleRadios1'\r\n                            value={'S'}\r\n                            onClick={(e) => typeOnChange(e)}\r\n                          />\r\n                          <label className=\"form-check-label\" for=\"exampleRadios1\">\r\n                            Super Admin\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            className=\"form-check-input\"\r\n                            type=\"radio\"\r\n                            name='exampleRadios1'\r\n                            value={'A'}\r\n                            onClick={(e) => typeOnChange(e)}\r\n                          />\r\n                          <label className=\"form-check-label\" for=\"exampleRadios1\">\r\n                            Admin\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"form-check\">\r\n                          <input\r\n                            className=\"form-check-input\"\r\n                            type=\"radio\"\r\n                            name='exampleRadios1'\r\n                            value={'F'}\r\n                            onClick={(e) => typeOnChange(e)}\r\n                          />\r\n                          <label className=\"form-check-label\" for=\"exampleRadios1\">\r\n                            Faculty\r\n                          </label>\r\n                        </div>\r\n                      </div>\r\n                      <div style={{ marginLeft : 20 }}><h6 style={{ color: 'red', paddingTop: '1%' }}>{errors['type']}</h6></div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        onChange={(event) => userOnChange(event.target.value)}\r\n                        margin=\"normal\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"User Name\"\r\n                      />\r\n                      <i className=\"fa fa-user icon\"></i>\r\n                      <div><h6 style={{ color: 'red', paddingTop: '1%' }}>{errors['user']}</h6></div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                      <input\r\n                        type={isShowPassword ? \"text\" : \"password\"}\r\n                        onChange={(event) => passwordOnChange(event.target.value)}\r\n                        margin=\"normal\" className=\"form-control\"\r\n                        placeholder='Password'\r\n                      />\r\n                      {isShowPassword ?\r\n                        <i className=\"fa fa-eye icon1\" onClick={() => setShowPassword(false)} style={{ cursor: 'pointer' }} /> :\r\n                        <i className=\"fa fa-eye-slash icon1\" onClick={() => setShowPassword(true)} style={{ cursor: 'pointer' }} />\r\n                      }\r\n                      <div><h6 style={{ color: 'red', paddingTop: '1%' }}>{errors['password']}</h6></div>\r\n                    </div>\r\n                    <div className='row'>\r\n                      <div className=\"col-md-6\">\r\n                        <button variant=\"contained\" className=\"btn-signin\" onClick={loginOnClick}>\r\n                          Sign In\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"col-md-6 text-right\">\r\n                        <button variant=\"contained\" className=\"btn-signin\" >\r\n                          School Login\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}