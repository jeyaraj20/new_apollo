{"ast":null,"code":"import jwtDecode from \"jwt-decode\";\nexport function getCurrentUser() {\n  try {\n    var local = localStorage.getItem('persist:QuestionCloud');\n    local = JSON.parse(local);\n\n    if (local.auth) {\n      var auth = JSON.parse(local.auth);\n\n      if (auth && auth.auth && auth.auth.token) {\n        return jwtDecode(auth.auth.token);\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  } catch (ex) {\n    return null;\n  }\n}\nexport function getQuery() {\n  var urlQuery = true ? window.location.search.split(\"?\")[1] : null;\n  var query = {};\n\n  if (urlQuery) {\n    if (urlQuery.includes('&')) {\n      var params = urlQuery.split('&');\n\n      for (var i = 0; i < params.length; i++) {\n        query[params[i].split('=')[0]] = params[i].split('=')[1];\n      }\n    } else {\n      query[urlQuery.split('=')[0]] = urlQuery.split('=')[1];\n    }\n  }\n\n  return query;\n}","map":{"version":3,"sources":["D:/Question_cloud/question_cloud_admin_web_new/helper/auth.js"],"names":["jwtDecode","getCurrentUser","local","localStorage","getItem","JSON","parse","auth","token","ex","getQuery","urlQuery","window","location","search","split","query","includes","params","i","length"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AAEA,OAAO,SAASC,cAAT,GAA0B;AAC7B,MAAI;AACA,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,uBAArB,CAAZ;AACAF,IAAAA,KAAK,GAAGG,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAR;;AACA,QAAGA,KAAK,CAACK,IAAT,EAAc;AACV,UAAIA,IAAI,GAAGF,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACK,IAAjB,CAAX;;AACA,UAAIA,IAAI,IAAIA,IAAI,CAACA,IAAb,IAAqBA,IAAI,CAACA,IAAL,CAAUC,KAAnC,EAA0C;AACtC,eAAOR,SAAS,CAACO,IAAI,CAACA,IAAL,CAAUC,KAAX,CAAhB;AACH,OAFD,MAEK;AACD,eAAO,IAAP;AACH;AACJ,KAPD,MAOK;AACD,aAAO,IAAP;AACH;AACJ,GAbD,CAaE,OAAOC,EAAP,EAAW;AACT,WAAO,IAAP;AACH;AACJ;AAED,OAAO,SAASC,QAAT,GAAoB;AACvB,MAAIC,QAAQ,GAAG,OAAgCC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B,GAA7B,EAAkC,CAAlC,CAAhC,GAAuE,IAAtF;AACA,MAAIC,KAAK,GAAG,EAAZ;;AACA,MAAGL,QAAH,EAAY;AACR,QAAGA,QAAQ,CAACM,QAAT,CAAkB,GAAlB,CAAH,EAA0B;AACtB,UAAIC,MAAM,GAAGP,QAAQ,CAACI,KAAT,CAAe,GAAf,CAAb;;AACA,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAAM,CAACE,MAA3B,EAAmCD,CAAC,EAApC,EAAuC;AACnCH,QAAAA,KAAK,CAACE,MAAM,CAACC,CAAD,CAAN,CAAUJ,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAD,CAAL,GAAiCG,MAAM,CAACC,CAAD,CAAN,CAAUJ,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAjC;AACH;AACJ,KALD,MAKK;AACDC,MAAAA,KAAK,CAACL,QAAQ,CAACI,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAD,CAAL,GAAgCJ,QAAQ,CAACI,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAhC;AACH;AACJ;;AACD,SAAOC,KAAP;AACH","sourcesContent":["import jwtDecode from \"jwt-decode\";\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        let local = localStorage.getItem('persist:QuestionCloud');\r\n        local = JSON.parse(local);\r\n        if(local.auth){\r\n            let auth = JSON.parse(local.auth);\r\n            if( auth && auth.auth && auth.auth.token ){\r\n                return jwtDecode(auth.auth.token);\r\n            }else{\r\n                return null;\r\n            }\r\n        }else{\r\n            return null;\r\n        }\r\n    } catch (ex) {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport function getQuery() {\r\n    let urlQuery = typeof window !== 'undefined' ? window.location.search.split(\"?\")[1] : null;\r\n    let query = {};\r\n    if(urlQuery){\r\n        if(urlQuery.includes('&')){\r\n            let params = urlQuery.split('&');\r\n            for( let i = 0; i < params.length; i++){\r\n                query[params[i].split('=')[0]] = params[i].split('=')[1];\r\n            }\r\n        }else{\r\n            query[urlQuery.split('=')[0]] = urlQuery.split('=')[1];\r\n        }\r\n    }\r\n    return query;\r\n}"]},"metadata":{},"sourceType":"module"}